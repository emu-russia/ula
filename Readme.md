# ZX Spectrum ULA 6C001

Восстановление нетлиста спектрумовской юлы.

![ula6c001](/imgstore/ula6c001.png)

Все разделы пока на русском, но особо тут пока нет ничего, можно спокойно использовать DeepL для перевода.

## Datasets

- Оригинальные датасеты были получены из дискорда Silicon Pr0n, фотографии сделаны 4e71: https://reversing.pl/storage/ZX_ULA.jpg и использованы с разрешения автора
- Исходное изображение было уменьшено в 4 раза (т.к. топология не требует большого разрешения) и маски частично восстановлены для получения Master изображения: ZX_ULA_sm.jpg. Также тут: https://drive.google.com/file/d/1--3bO9DbVKPTjt3Om8gvpYQBYHB_Lc9T/view?usp=sharing

## Процесс исследования

1. Исходное изображение
2. Векторизация и определение базовых элементов  (ulabase.v)
3. Получение нетлиста (утилита Deroute) 
4. Экспорт нетлиста в верилог (утилита Deroute) 
5. Получение схемы чипа в популярной EDA (Xilinx PlanAhead, грузим верилог она сама рисует схему)
6. Вдумчивый анализ, дробление нетлиста на под-модули, названия сигналов, повторить с пункта 4 (необязательно)

## Прогресс дробления нетлиста на модули

В целом вырисовывается такая картина:

![ula6c001_annotated](/imgstore/ula6c001_annotated.png)

## Примечание

Вот эти инверторы я НЕ включал в основной нетлист, т.к. они являются частью peripheral cells:

![peri_cell_nots](/imgstore/peri_cell_nots.png)

Однако, для получения сигнала /AE (address enable) один такой инвертор был использован (сами разработчики чипа задействовали peripheral cell для основной логики, выше также имеется pullup в ячейке /WE):

![peri_cell_nots_ae](/imgstore/peri_cell_nots_ae.png)

## Reference

- Названия сигналов из реверса Chris Smith: http://www.zxdesign.info/schematics.shtml
